(this["webpackJsonpreact-swr-ts"]=this["webpackJsonpreact-swr-ts"]||[]).push([[0],{27:function(e,t,n){},48:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(19),s=n.n(c),i=(n(27),n(7)),u=n(1),o=Object(a.createContext)({setActiveTask:function(e){return console.warn("no task provider")}}),d=function(){return Object(a.useContext)(o)},j=function(e){var t=e.children,n=Object(a.useState)(),r=Object(i.a)(n,2),c=r[0],s=r[1];return Object(u.jsx)(o.Provider,{value:{activeTask:c,setActiveTask:s},children:t})},l=function(){return Object(u.jsx)("header",{children:Object(u.jsxs)("h1",{children:[Object(u.jsx)("div",{className:"title",children:"React Simple CRUD"}),Object(u.jsx)("div",{className:"subtitle",children:"With SWR And TypeScript"})]})})},b=n(6),h=n(10),v=function(e){var t=function(e,t){var n=Object(a.useState)(e),r=Object(i.a)(n,2),c=r[0],s=r[1];return{formState:c,handleChange:function(e){s(Object(h.a)(Object(h.a)({},c),{},Object(b.a)({},e.target.name,e.target.value)))},handleSubmit:function(e){e.preventDefault(),t(c)}}}(e.activeTask,e.handleAction),n=t.formState,r=t.handleChange,c=t.handleSubmit;return Object(u.jsxs)("form",{onSubmit:c,children:[Object(u.jsx)("input",{type:"text",name:"name",value:n.name,onChange:r,placeholder:"Task description"}),Object(u.jsx)("input",{type:"submit"})]})},p=function(e){var t=e.handleAction,n=d(),a=n.activeTask,r=n.setActiveTask;return Object(u.jsx)("div",{className:"new",children:a&&void 0===a.id?Object(u.jsx)(v,{handleAction:t,activeTask:a}):Object(u.jsx)("button",{className:"bt-new",onClick:function(){return r({name:""})},children:"New Task"})})},f=function(e){var t=e.task,n=e.handleUpdateTask,a=e.handleRemoveTask,r=d(),c=r.activeTask,s=r.setActiveTask;return Object(u.jsx)(u.Fragment,{children:c&&c.id===t.id?Object(u.jsx)(v,{handleAction:n,activeTask:c}):Object(u.jsxs)("div",{className:"item",children:[Object(u.jsx)("span",{onClick:function(){return s(t)},children:t.name}),Object(u.jsx)("button",{className:"bt-remove",onClick:function(){return a(t)},children:"X"})]})})},k=function(e){var t=e.data,n=e.error,a=e.handleUpdateTask,r=e.handleRemoveTask;return n?Object(u.jsx)("div",{className:"error",children:n.message}):t?Object(u.jsx)("div",{className:"list",children:Object(u.jsx)("ul",{children:null===t||void 0===t?void 0:t.map((function(e){return Object(u.jsx)("li",{children:Object(u.jsx)(f,{task:e,handleUpdateTask:a,handleRemoveTask:r})},e.id)}))})}):Object(u.jsx)("div",{className:"loading",children:"Loading..."})},m=n(3),O=n.n(m),x=n(22),T=n(8),w=n(20),A=n.n(w),N=n(21),S=function(){var e=function(e){var t=A.a.create({baseURL:"https://json-server-tasks.herokuapp.com"}),n=Object(N.a)("/tasks",(function(e){return t.get(e).then((function(e){return e.data}))}),{onSuccess:function(t,n){e&&e()}}),a=n.data,r=n.error,c=n.mutate,s=function(){var e=Object(T.a)(O.a.mark((function e(n){var r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return",!1);case 2:return e.next=4,t.post("/tasks",n);case 4:r=e.sent,c([].concat(Object(x.a)(a),[r.data]));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i=function(){var e=Object(T.a)(O.a.mark((function e(n){var r,s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return",!1);case 2:return e.next=4,t.patch("/tasks/".concat(n.id),n);case 4:r=e.sent,s=r.data,c(a.map((function(e){return e.id===s.id?s:e}),!1));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=Object(T.a)(O.a.mark((function e(n){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return",!1);case 2:return e.next=4,t.delete("/tasks/".concat(n.id));case 4:c(a.filter((function(e){return e.id===n.id}),!1));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{data:a,error:r,createTask:s,updateTask:i,removeTask:u}}(d().setActiveTask),t=e.data,n=e.error,a=e.createTask,r=e.updateTask,c=e.removeTask;return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(l,{}),Object(u.jsxs)("div",{className:"content",children:[Object(u.jsx)(p,{handleAction:a}),Object(u.jsx)(k,{data:t,error:n,handleUpdateTask:r,handleRemoveTask:c})]})]})};s.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(j,{children:Object(u.jsx)(S,{})})}),document.getElementById("root"))}},[[48,1,2]]]);
//# sourceMappingURL=main.e77b4e4c.chunk.js.map